!function(){window.apis=window.apis||{},window.apis.array_collection=window.apis.array_collection||{},function(){var e=function(e,t){var n=e.__proto__.__sortKey__;t.__proto__.__sortKey__=n;var a=e[n],r=t[n];return r>a?-1:a>r?1:0};window.apis.array_collection.sortJsonArrayByKey_Asc=function(t,n){t[0].__proto__.__sortKey__=n,t.sort(e);for(var a=0,r=t.length;r>a;++a)delete t[a].__proto__.__sortKey__;return t}}(),function(){var e=function(e,t){var n=e.__proto__.__sortKey__;t.__proto__.__sortKey__=n;var a=e[n],r=t[n];return r>a?1:a>r?-1:0};window.apis.array_collection.sortJsonArrayByKey_Desc=function(t,n){t[0].__proto__.__sortKey__=n,t.sort(e);for(var a=0,r=t.length;r>a;++a)delete t[a].__proto__.__sortKey__;return t}}()}();var DATES=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn("http://thdtjsdn.com/json/stock_chartdata_date_sparkline - 공통/_DATES.json").responseText),CHARTS={},EL=window.document.getElementById("ID-LIST-CHARTS");EL.addEventListener("click",function(e){var t=e.target,n=null,a=null,r=null;try{t.getAttribute("data-code")&&(n=t.getAttribute("data-code"),r=t),t.parentElement.getAttribute("data-code")&&(n=t.parentElement.getAttribute("data-code"),r=t.parentElement),t.parentElement.parentElement.getAttribute("data-code")&&(n=t.parentElement.parentElement.getAttribute("data-code"),r=t.parentElement.parentElement),t.parentElement.parentElement.parentElement.getAttribute("data-code")&&(n=t.parentElement.parentElement.parentElement.getAttribute("data-code"),r=t.parentElement.parentElement.parentElement),t.parentElement.parentElement.parentElement.parentElement.getAttribute("data-code")&&(n=t.parentElement.parentElement.parentElement.parentElement.getAttribute("data-code"),r=t.parentElement.parentElement.parentElement.parentElement),t.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute("data-code")&&(n=t.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute("data-code"),r=t.parentElement.parentElement.parentElement.parentElement.parentElement)}catch(e){}if(e.altKey)-1!=e.target.parentElement.parentElement.id.indexOf("ID-CHART-")&&e.target.parentElement.parentElement.remove();else if(e.shiftKey)-1!=e.target.parentElement.parentElement.id.indexOf("ID-CHART-")&&e.target.parentElement.parentElement.parentElement.prepend(e.target.parentElement.parentElement);else if(e.ctrlKey)n&&window.open("http://thdtjsdn.com/html/page/주식-정보--종합/index.html?code="+n,"popup_detail","_blank"),a&&window.open("http://thdtjsdn.com/html/page/주식-정보--종합/index.html?name="+a,"popup_detail","_blank");else if(n){var n=n.replace(/\-.*/,"");try{SUtilXMLHttpReqGet.req("http://localhost:49323/setStocksCode?code="+n)}catch(l){}try{SUtilXMLHttpReqGet.req("http://192.168.0.19:49323/setStocksCode?code="+n)}catch(l){}try{SUtilXMLHttpReqGet.req("http://192.168.0.2:49323/setStocksCode?code="+n)}catch(l){}}});var FN=function(){var e=new Date,t=e.getHours();if(t>9&&16>t){var n=(DATES.DATE,DATES.DATE0),a=DATES.DATE1,r=DATES.DATE2,l=DATES.DATE3,s="http://thdtjsdn.com/json/stock_chartdata_date_sparkline/",o=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+n+"/__status.json").responseText);if(window.document.getElementById("ID-TIME").innerText__original=window.document.getElementById("ID-TIME").innerText="",FN.last_time!=o.t){FN.last_time=o.t,FN.B_INIT_LIST||(FN.LIST_FAV_CODE={},FN.LIST_FAV_NAME={},function(){var e=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn("http://thdtjsdn.com/json/stock_dynamic/전종목 시세 - 선택.json").responseText);e.forEach(function(e){FN.LIST_FAV_CODE[e.code]=e,FN.LIST_FAV_NAME[e.name]=e})}(),FN.LIST=function(){var e=[],t={},a=function(){var e=[],t={},a=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+n+"/__list-aa_gab_gab.json").responseText);a=window.apis.array_collection.sortJsonArrayByKey_Desc(a,"aa_gab_gab"),a.forEach(function(e){t[e.name]=e});var r=0;for(var l in t)e.push(t[l]),++r;return e=window.apis.array_collection.sortJsonArrayByKey_Desc(e,"aa_gab_gab")}();return a.forEach(function(n){if(!t[n.cd]){var a=n.cd;e.push({cd:a,aa_gab_gab:n.aa_gab_gab,aa_gab:n.aa_gab,cnt:n.cnt,cr:n.cr,name:n.name,t:n.t})}}),e}(),FN.B_INIT_LIST=!0);var p=window.document.getElementById("ID-LIST-CHARTS");p.innerHTML=SUtilString.applyBraceStrFromArray(FN.FN_REALTIME.TEMPLATE,FN.LIST),FN.LIST.forEach(function(e){CHARTS[e.cd]={chart:$("#ID-CHART-CHART-"+e.cd),txt:window.document.getElementById("ID-CHART-TXT-"+e.cd)}});for(var _=0,c=p.children.length;c>_;++_)p.children[0].remove();var s="http://thdtjsdn.com/json/stock_chartdata_date_sparkline/",o=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+n.replace(/\-.*/,"")+"/list-all--거래정지삭제.json").responseText),i=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+a.replace(/\-.*/,"")+"/list-all--거래정지삭제.json").responseText);o=function(){var e={};for(var t in o)i[t]?e[t]=i[t].concat(o[t]):e[t]=o[t];return e}();var E=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+r.replace(/\-.*/,"")+"/list-all--거래정지삭제.json").responseText);o=function(){var e={};for(var t in o)E[t]?e[t]=E[t].concat(o[t]):e[t]=o[t];return e}();var T=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+l.replace(/\-.*/,"")+"/list-all--거래정지삭제.json").responseText);o=function(){var e={};for(var t in o)T[t]?e[t]=T[t].concat(o[t]):e[t]=o[t];return e}();var d=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+n.replace(/\-.*/,"")+"/list-all--거래정지삭제-종가.json").responseText),A=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+a.replace(/\-.*/,"")+"/list-all--거래정지삭제-종가.json").responseText);d=function(){var e={};for(var t in d)A[t]?e[t]=A[t].concat(d[t]):e[t]=d[t];return e}();var S=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+r.replace(/\-.*/,"")+"/list-all--거래정지삭제-종가.json").responseText);d=function(){var e={};for(var t in d)S[t]?e[t]=S[t].concat(d[t]):e[t]=d[t];return e}();var N=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+l.replace(/\-.*/,"")+"/list-all--거래정지삭제-종가.json").responseText);d=function(){var e={};for(var t in d)N[t]?e[t]=N[t].concat(d[t]):e[t]=d[t];return e}();var F=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+n.replace(/\-.*/,"")+"/list-all--거래정지삭제-금액.json").responseText),u=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+a.replace(/\-.*/,"")+"/list-all--거래정지삭제-금액.json").responseText);F=function(){var e={};for(var t in F)u[t]?e[t]=u[t].concat(F[t]):e[t]=F[t];return e}();var I=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+r.replace(/\-.*/,"")+"/list-all--거래정지삭제-금액.json").responseText);F=function(){var e={};for(var t in F)I[t]?e[t]=I[t].concat(F[t]):e[t]=F[t];return e}();var L=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+l.replace(/\-.*/,"")+"/list-all--거래정지삭제-금액.json").responseText);F=function(){var e={};for(var t in F)L[t]?e[t]=L[t].concat(F[t]):e[t]=F[t];return e}();var m=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+n.replace(/\-.*/,"")+"/list-all--거래정지삭제-누적금액.json").responseText),h=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+a.replace(/\-.*/,"")+"/list-all--거래정지삭제-누적금액.json").responseText);m=function(){var e={};for(var t in m)h[t]?e[t]=h[t].concat(m[t]):e[t]=m[t];return e}();var C=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+r.replace(/\-.*/,"")+"/list-all--거래정지삭제-누적금액.json").responseText);m=function(){var e={};for(var t in m)C[t]?e[t]=C[t].concat(m[t]):e[t]=m[t];return e}();var R=JSON.parse(SUtilXMLHttpReqGet.reqSyncReturn(s+l.replace(/\-.*/,"")+"/list-all--거래정지삭제-누적금액.json").responseText);m=function(){var e={};for(var t in m)R[t]?e[t]=R[t].concat(m[t]):e[t]=m[t];return e}(),FN.LIST__AA=F,FN.LIST__NCV=d,FN.LIST__AA_ACC=m;for(var g,y=(window.document.createElement("DIV"),window.document.getElementById("ID-LIST-CHARTS")),v=[],M=y.children,f=0,_=0,c=M.length;c>_;++_)v.push(M[_]);for(var _=0,c=v.length;c>_;++_)g=v[_],y.appendChild(g),++f;setTimeout(FN.FN_REALTIME,50)}}};FN.fn_getTimeStr=function(e){var t=e.getHours().toString(),n=e.getMinutes().toString(),a=e.getSeconds().toString();return 1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),1==a.length&&(a="0"+a),t+":"+n+":"+a},FN.제외종목="KB금융KTLG생활건강NH투자증권SKSK증권SK텔레콤기업은행맥쿼리인프라삼성생명오리온홀딩스우리금융지주한국전력현대해상",FN.last_time=0,FN.B_INIT_LIST=!1,FN.LIST=[],FN.LIST__AA=[],FN.LIST__NCV=[],FN.LIST__AA_ACC=[],FN.FN_REALTIME=function(){try{var e=SUtilXMLHttpReqGetRef.reqSyncReturn(FN.xhr,"http://thdtjsdn.com/download__voice_history_1line").responseText}catch(t){}if(FN.lastStr==e)return void setTimeout(FN.FN_REALTIME,200);FN.lastStr=e;var n=e.split(" - "),a=Number(n[5]),r=Number(n[7]),l=Number(n[2]),s=Number(n[3]),o=Number(n[4]),p=Number(n[12]),_=Number(n[0]),c=FN.fn_getTimeStr(new Date(_)),i=n[1],E=n[8],T=window.document.getElementById("ID-LIST-CHARTS");if(a<Number(window.document.getElementById("ID-INPUT-PRICE_TOTAL").value))return void setTimeout(FN.FN_REALTIME,1);for(;2==T.children.length;)T.children[0].remove();var d=Number(n[6]);CHARTS[E]||(FN.FN_REALTIME.EL_TEMP_DIV.innerHTML=FN.FN_REALTIME.TEMPLATE.replace(/\{\{cd\}\}/gi,E).replace(/\{\{name\}\}/gi,i),T.appendChild(FN.FN_REALTIME.EL_TEMP_DIV.children[0]),CHARTS[E]={chart:$("#ID-CHART-CHART-"+E),txt:window.document.getElementById("ID-CHART-TXT-"+E)}),FN.LIST__AA[i]||(FN.LIST__AA[i]=[]),FN.LIST__NCV[i]||(FN.LIST__NCV[i]=[]),FN.LIST__AA_ACC[i]||(FN.LIST__AA_ACC[i]=[]);var A=d>0?!1:!0,S=a.toString().replace("-",""),N="";6==S.length?N='<span class="aa0">'+S[0]+"십</span>":7==S.length?N='<span class="aa1">'+S[0]+"백</span>":8==S.length?N='<span class="aa2">'+S[0]+"천</span>":9==S.length?N='<span class="aa3">'+S[0]+"억</span>":10==S.length?N='<span class="aa4">'+S[0]+S[1]+"억</span>":11==S.length?N='<span class="aa5">'+S.slice(0,2)+S[2]+"억</span>":12==S.length?N='<span class="aa6">'+S.slice(0,3)+S[3]+"억</span>":13==S.length?N='<span class="aa7">'+S[0]+"조</span>":14==S.length&&(N='<span class="pr" >'+S[0]+S[1]+"조</span>");var F=r.toString().replace("-",""),u="";6==F.length?u='<span class="aa0">'+F[0]+"십</span>":7==F.length?u='<span class="aa1">'+F[0]+"백</span>":8==F.length?u='<span class="aa2">'+F[0]+"천</span>":9==F.length?u='<span class="aa3">'+F[0]+"억</span>":10==F.length?u='<span class="aa4">'+F[0]+F[1]+"억</span>":11==F.length?u='<span class="aa5">'+F.slice(0,2)+F[2]+"억</span>":12==F.length?u='<span class="aa6">'+F.slice(0,3)+F[3]+"억</span>":13==F.length?u='<span class="aa7">'+F[0]+"."+F[0]+"조</span>":14==F.length&&(u='<span class="pr" >'+F[0]+F[1]+"조</span>");try{var I,p=n[12];I="-"==p[0]?!0:!1,p=p.replace("-",""),I?6==p.length?p='<span class="aa0">-'+p[0]+"십</span>":7==p.length?p='<span class="aa1">-'+p[0]+"백</span>":8==p.length?p='<span class="aa2">-'+p[0]+"천</span>":9==p.length?p='<span class="aa3">-'+p[0]+"억</span>":10==p.length?p='<span class="aa4">-'+p[0]+p[1]+"억</span>":11==p.length?p='<span class="aa5">-'+p.slice(0,2)+p[2]+"억</span>":12==p.length?p='<span class="aa6">-'+p.slice(0,3)+p[3]+"억</span>":13==p.length?p='<span class="aa7">-'+p[0]+"."+p[0]+"조</span>":14==p.length&&(p='<span class="pr" >-'+p[0]+p[1]+"조</span>"):6==p.length?p='<span class="aa0">+'+p[0]+"십</span>":7==p.length?p='<span class="aa1">+'+p[0]+"백</span>":8==p.length?p='<span class="aa2">+'+p[0]+"천</span>":9==p.length?p='<span class="aa3">+'+p[0]+"억</span>":10==p.length?p='<span class="aa4">+'+p[0]+p[1]+"억</span>":11==p.length?p='<span class="aa5">+'+p.slice(0,2)+p[2]+"억</span>":12==p.length?p='<span class="aa6">+'+p.slice(0,3)+p[3]+"억</span>":13==p.length?p='<span class="aa7">+'+p[0]+"."+p[0]+"조</span>":14==p.length&&(p='<span class="pr" >+'+p[0]+p[1]+"조</span>")}catch(t){}CHARTS[E].txt.__LAST__ACC_AA||(CHARTS[E].txt.__LAST__ACC_AA=p);var L,m;A?(L=i+" : "+c+" | "+s+"% / "+l+"% / "+o+"% - "+Number(n[9])+" - "+N+" / -"+u+" / "+CHARTS[E].txt.__LAST__ACC_AA+" > "+p,m=i+" : "+c+" | "+N+" / -"+u+" / "+CHARTS[E].txt.__LAST__ACC_AA+" > "+p+"<br>"+s+"% / "+l+"% / "+o+"% - "+Number(n[9])):(L=i+" : "+c+" | "+s+"% / "+l+"% / "+o+"% - "+Number(n[9])+" - "+N+" / +"+u+" / "+CHARTS[E].txt.__LAST__ACC_AA+" > "+p,m=i+" : "+c+" | "+N+" / +"+u+" / "+CHARTS[E].txt.__LAST__ACC_AA+" > "+p+"<br>"+s+"% / "+l+"% / "+o+"% - "+Number(n[9])),window.document.getElementById("ID-TIME").innerHTML=window.document.getElementById("ID-TIME").innerText__original+" - "+L;try{CHARTS[E].txt.innerHTML=m}catch(t){}if(CHARTS[E].txt.__LAST__ACC_AA!=p&&(CHARTS[E].txt.__LAST__ACC_AA=p),!CHARTS[E].B_CONTINUE){try{var h=JSON.parse(SUtilXMLHttpReqGetRef.reqSyncReturn(FN.xhr,"http://thdtjsdn.com/download__voice_history_1line_select_arr_cdata?nm="+encodeURIComponent(i)).responseText)}catch(t){return void setTimeout(FN.FN_REALTIME,1)}FN.LIST__AA[i]=FN.LIST__AA[i].concat(h.aa),FN.LIST__NCV[i]=FN.LIST__NCV[i].concat(h.ncv),FN.LIST__AA_ACC[i]=FN.LIST__AA_ACC[i].concat(h.acc_aa),CHARTS[E].B_CONTINUE=!0}if(FN.LIST__AA[i].push(r),FN.LIST__NCV[i].push(Number(n[9])),FN.LIST__AA_ACC[i].push(Number(n[12])),.45>d){try{var C=CHARTS[E].txt.parentElement}catch(t){}if(C.parentElement){var R=10*Number(l);R>255?R=255:-255>R&&(R=-255),R=Math.abs(Math.round(R)).toString(16),1==R.length&&(R="0"+R),C&&(l>0?C.style.backgroundColor="#"+R+"0000":0>l?C.style.backgroundColor="#0000"+R:C.style.backgroundColor=""),d>.1?(FN.FN_REALTIME.SELECT_DIV&&(FN.FN_REALTIME.SELECT_DIV.style.border="1px solid #FFFFFF"),FN.FN_REALTIME.SELECT_DIV=C,FN.FN_REALTIME.SELECT_DIV.style.border="1px solid red"):(FN.FN_REALTIME.SELECT_DIV&&(FN.FN_REALTIME.SELECT_DIV.style.border="1px solid #FFFFFF"),FN.FN_REALTIME.SELECT_DIV=C,FN.FN_REALTIME.SELECT_DIV.style.border="1px solid blue");try{var g=CHARTS[E].chart;g.sparkline(FN.LIST__AA[i],FN.FN_REALTIME.C_P2),g.sparkline(FN.LIST__NCV[i],FN.FN_REALTIME.C_P0)}catch(t){}}return void setTimeout(FN.FN_REALTIME,1)}try{var C=CHARTS[E].txt.parentElement;T.append(C)}catch(t){}var R=10*Number(l);R>255?R=255:-255>R&&(R=-255),R=Math.abs(Math.round(R)).toString(16),1==R.length&&(R="0"+R),C&&(l>0?C.style.backgroundColor="#"+R+"0000":0>l?C.style.backgroundColor="#0000"+R:C.style.backgroundColor=""),d>.1?(FN.FN_REALTIME.SELECT_DIV&&(FN.FN_REALTIME.SELECT_DIV.style.border="1px solid #FFFFFF"),FN.FN_REALTIME.SELECT_DIV=C,FN.FN_REALTIME.SELECT_DIV.style.border="1px solid red"):(FN.FN_REALTIME.SELECT_DIV&&(FN.FN_REALTIME.SELECT_DIV.style.border="1px solid #FFFFFF"),FN.FN_REALTIME.SELECT_DIV=C,FN.FN_REALTIME.SELECT_DIV.style.border="1px solid blue");try{var g=CHARTS[E].chart;g.sparkline(FN.LIST__AA[i],FN.FN_REALTIME.C_P2),g.sparkline(FN.LIST__NCV[i],FN.FN_REALTIME.C_P0),g.sparkline(FN.LIST__AA_ACC[i],FN.FN_REALTIME.C_P1)}catch(t){}setTimeout(FN.FN_REALTIME,100)},FN.FN_REALTIME.C_P2={disableHiddenCheck:!0,height:"140",width:"365",type:"line",fillColor:null,spotRadius:.1,lineColor:"RGBA(260,260,0,0.8)",chartRangeClip:!0},FN.FN_REALTIME.C_P1={disableHiddenCheck:!0,height:"140",width:"365",type:"line",fillColor:null,spotRadius:.1,lineColor:"#00FFFF",composite:!0},FN.FN_REALTIME.C_P0={disableHiddenCheck:!0,height:"140",width:"365",type:"line",fillColor:null,spotRadius:.1,lineColor:"#FFFFFF",composite:!0},FN.FN_REALTIME.TEMPLATE='<div id="ID-CHART-{{cd}}-C" data-code="{{cd}}" style="display: inline-block; width:365px; border: 1px solid #FFFFFF; padding: 5px;"><div id="ID-CHART-TXT-{{cd}}" class="txt" style="font-size: 14px; color: #ffffff; position: absolute; text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;">{{name}}</div><br><div id="ID-CHART-CHART-{{cd}}" class="chart" style="width: 365px; height: 140px;"></div></div>',FN.FN_REALTIME.EL_TEMP_DIV=window.document.createElement("div"),FN.FN_REALTIME.SELECT_DIV=null,setTimeout(FN,3e3);